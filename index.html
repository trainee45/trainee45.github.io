<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>TableNotesVer29.html</title>
    <link href="TableNotesVer29.css" rel="stylesheet">
	<link rel="manifest" href="trainsDBTableNotes.webmanifest">
	
<!-- 	USE THIS VERSION AS OF July 22  2021 This version has been installed on github pages !<script src="fileNamesTableNotesVer21.js" defer type="text/javascript"></script> -->

<!-- Line below adds jQuery library from jQuery file in same directory as the .js file. It works without internet connection. The google CDN has to have the internet connection IMPORTANT CONSIDERATION WHEN USING MORE jQuery code!! At the moment as of May17 2021 the only thing using jQuery is the table menu and hide scroll btns in preferences-->

 <script src="jquery-3.6.0.min.js"></script>

    <script src="TableNotesVer29.js" defer></script>
	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
	<!-- <scrip src="jquery-3.6.0.slim.min.js"></script> -->
<!-- 	<script src="jquery-3.6.0.slim.min.js" defer></script> -->
<script> 
$(document).ready(function(){
  $("#flip").click(function(){
    $("#panel").slideToggle("slow");
  });
  
  $("#scrollBtns").click(function(){
	 $(".bottomBtn").hide(); 
  })
  
  $("#bottom").click(function(){
    $("#tableWin").scrollTop(2080);
});
  
});
</script>
<style> 
#panel, #flip {
  padding: 5px;
  text-align: center;
  background-color: #e5eecc;
  border: solid 1px #c3c3c3;
}

#panel {
  padding: 10px;
  display: none;
}

.print {
	background-color:white;
color: black;
}

</style>
	
	
	
  </head>
  <body>
	  
	
	 <!-- START OF CONSOLE SIMULATOR CODE this part into the HTML section -->
<!-- <div class="simula>
  <h3>The iOS Console Simulator</h3>
      <label for="jscode">Enter code:</label>
      <input type="text" id="jscode" name="jscode" value="alert('Hello');">
      <button id="btnSim">Submit code</button>
       <p id="sim" class="funcLib"></p>
    </div> -->

	<!--END OF THE CONSOLE SIMULATOR HTML-->
 
	<!--  <p>See Service Worker example at: Repositories/learning-area/javascript/apis/client-side-storage/cache-sw/video-store-offline/index.html">Service Worker example</p> -->
	
	  
    <header>
      <h1>DougieBase Version 29</h1>
    </header>
	<p></p>
<div id = "scrolling">
	 <!--  <button style = "position:fixed;" id = "scrollBtn";>Scroll ¥</button>
	  <button id="myBtn" title="Go to top">Top</button> -->
</div>
	 <!--the menu banner remove id="menu" to return to original view-->  
	<nav id="menu" class="simulator">
		<h3>Menu</h3>
		<!--<p></p>-->
		<button id="new">New/Change DB</button>
		<button id="add">Add Note</button>
		<button id ="tableScreenBtn">Table</button>
		<button id="settings">Preferences</button>
		<button id="aboutDB">About DataBase</button>
		<button id="manage">Manage</button>
		<button id="search">Search</button>
		<button id="loadDB">LOAD</button>
		<button id="saveDatabase">SAVE</button>
	</nav>
	

    <main>
		
		<section id = "fileNames" class = "hidden">
			  <h2 id="">Current Database File Names</h2>
			  <div id="fileNamesList">
				  <h3>Double Tap on the Database Name to Load</h3>
				  <ol id = "dataBaseList">
					  
				  </ol>
			  </div>
			<p class = "simulator" id = "fileChosen"></p>
			<p class = "simulator" >OR create a New DataBase or RESTORE a Backup</p>
			<button id = "newDBBtn">Create New DataBase</button>
			<button id = "firstManageBtn">Manage</button>
			<button id = "restoreDataBaseBtn">RESTORE from Backup</button>
			
			<button id = "cancelFileNamesWin">CANCEL</button>
		</section>
		
	 <p id = "openDB"></p>
		  
<section id = "createNewDBWin" class ="hidden">
	<h2 id="">Create a NEW Database File </h2>
	  <p></p>
		  <label for="newDBTitle" class="edBan">Enter Name of New DataBase: </label>
		  <input id="newDBTitle" type="text" name="newDBTitle" value="" class="edBan" placeholder = "Enter here !">
		    <button id="submitName" class ="attentionBtn">Start Creating new DataBase</button>
			<button id = "cancelNewDBBtn">CANCEL</button>
			<p></p>
	
		</section>
		
		<!-- Manage files -->
		<section id = "manageFilesWin" class ="hidden">
	<h2 id="">Manage the Database Files </h2>
	  <p></p>
	    <div id="manageFileNamesList">
				  <h3>Double Tap on the Database Name to SELECT</h3>
				  <ol id = "manageDataBaseList">
					  
				  </ol>
			  </div>
			  
		  <p class="edBan">Choose the file from list above and Double-tap to SELECT the DataBase: </p>
		  <p></p>
		   	<p id = "selectedDBinfo" class = "simulator"></p> 
			<p></p>
		  
		  
		   <button id="deleteFileBtn" class ="attentionBtn">Delete DataBase</button>
		    <button id="clearFileBtn" class ="attentionBtn">Clear DataBase</button>
			<button id="backupFileBtn" class ="attentionBtn">Backup DataBase</button>
			
			<button id = "cancelDeleteDataBaseBtn">CANCEL</button>
			<p></p>
			 <button id="backupRestoreFileBtn" class ="attentionBtn">Backup/Restore DataBase</button>
			<p></p>
	
		</section>
		
	<!-- Backup Restore files -->
		<section id = "backupFilesWin" class ="hidden">
	<h2 id="">Backup and Restore Database Files </h2>
	  <p></p>
	    
				  <h3>Choose BACKUP or RESTORE</h3>
			
				  
		<!-- 	<p id = "selectedDBinfo" class = "simulator"></p>   -->
		 
		  <p></p>
		  <p id = "selectedDBName" class = "simulator">Selected DataBase name will appear here!</p>
		  <p></p>
		  <label for="backupBtn">Tap BACKUP button to save a backup.</label>
		  <button id= "backupBtn" name = "backupBtn" class = "attentionBtn">BACKUP</button>
		  <p></p>
		    <label for="restoreFileBtn" class="edBan"> Tap RESTORE DataBase to reclaim a lost Database. </label>
		  <p></p>
		    <!-- <button id="backupFileBtn" class ="attentionBtn">Backup DataBase</button> -->
			   <button id="restoreFileBtn" class ="attentionBtn">Restore DataBase</button>
			<button id = "cancelBackupDataBaseBtn">CANCEL</button>
			<p></p>
	
		</section>
		<!-- End Backup restore -->
		
		<!-- Backing up database window -->
		
	<section id = "backingUpDBWin" class ="hidden">
	<h2 id="">Backing up your database data to the Clipboard! </h2>
	  <p></p>
	   <button id="copyClipboardBtn">Click here first!</button>
	   <button id ="doneCopy">DONE</button>

	  <!-- onclick = " copyToClipboard(textarea.value) ? this.innerText='Copied!': #this.innerText='DONE! Copied to clipboard. :(' "  -->
	   
	   <!-- 	 <button onclick="copyToClipboard($(json) )? this.innerText='Copied!': this.innerText='Sorry :(' ">Click here</button>THIS WORKS BUT NEED TO USE BOTH FUNCTIONS!!!!!!! -->

<p>
  <textarea id = "textAreaClip" type ="text" placeholder="(Testing area) Paste here..." cols="80" rows="4" defer>json</textarea>
</p>

			<p></p>
	
		</section>
		<!-- End backing up database window -->
		
	<!-- Start restore database window -->	
		
<section id = "restoreDBWin" class ="hidden">
	<h2 id="">Restore a database from its Backup via the Clipboard </h2>
	  <p></p>
	  <div id ="restoreDBInstructions" class = "simulator">
		  <p>How to Restore a database from its backup</p>
		  <p id = "restoreInstructionsP" class = "yellowonly"></p>
		 </div>
		 
		 <p>Dougiebase will create a new shell to structure the restored data. Enter the saved backup data of the database to be restored into the text area window below using Copy/Paste from the clipboard or from your external storage source.</p>
		 <p>Tap the SUBMIT button and your database will be restored.</p>
		 <p>Confirm the name of the database you are restoring in the confirmation window when it appears.</p>
		 <p>Tap FINISHED when done!</p>
	<!-- <div> code below causes display of notes to FAIL WHY?
		<ul>
			<li>Dougiebase will create a new shell to structure the restored data. Enter the saved data of the database to be restored into the text area window below using Copy/Paste from the clipboard or your storage source.</li>
			<li>Tap the SUBMIT button and your database will be restored.</li>
			<li>Enter the name of the database you are restoring in the prompt window when it appears.</li>
			<li>Tap FINISHED when done!</li>
		</ul> 
	</div>  -->
	<!-- 	 <input id = "restoreDBNameInput" type="text" name="restoreDBNameInput" value="" placeholder = "Enter DataBaseName">
		 <p></p>
		  <label for ="restoreDBNameBtn">Type a name for your restored database in the text input above.</label>
		  <button id= "restoreDBNameBtn" name = "restoreDBNameBtn" class = "attentionBtn">Enter DataBaseName</button> -->
		
		<p class="colorBtn">Copy backup data text from your storage source to the clipboard, and then Paste the Backup data for the database you are restoring, into the Text Area below:</p> 
		
		
		
		
		  
	<!--    <button id="copyClipboardBtn">Click here</button>
	   <button id ="doneCopy">DONE</button> -->

	  <!-- onclick = " copyToClipboard(textarea.value) ? this.innerText='Copied!': #this.innerText='DONE! Copied to clipboard. :(' "  -->
	   
	   <!-- 	 <button onclick="copyToClipboard($(json) )? this.innerText='Copied!': this.innerText='Sorry :(' ">Click here</button>THIS WORKS BUT NEED TO USE BOTH FUNCTIONS!!!!!!! -->

<p>
  <textarea id = "restoreTextAreaClip" type ="text" placeholder="Paste backup text here..." cols="80" rows="4" defer></textarea>
</p>

			<p></p>
			
	  <label for="getJson">Paste backup data from clipboard into the text area and then tap the submit button..</label>
	  <button id= "getJson" name = "getJson" class = "normalBtn">SUBMIT Backup data</button>
	  
	  <p></p>
	   <button id="restoreFromClipboard">Click here to RESTORE your DataBase.</button>
	
		</section>
		<!-- End restore database window -->
		
		
	<!-- notes  note-display -->	
      <section class="note-display">
        <h2 id="dbTableName">Notes</h2>
        <ul>

        </ul>
      </section>
      <section id="new-note" class="hidden">
        <h2>Enter a new Record and note</h2>
        <form>
          <div>
			  <!-- the record title or first field in the table -->
            <label for="title">Record title</label>
            <input id="title" type="text" required>
          </div>
		   <p id = "tableInstruction" class = "simulator">For the first and second data fields, everything entered before a colon (:) becomes the default TABLE entry for the static fields.</p>
		   <div>
            <button style="background-color: lightgreen; border-radius: 10px; border: 2px solid red; padding: 4px">Create new note</button>
			<button id="cancelNewNote">Cancel</button>
			<button id="addDate">ADD DATE</button>
		</div>
          <div>
            <label for="body">Note text</label>
			<!-- first primary data field ..i.e. Location field 3 in table -->
            <input id="body" type="text" required>
          </div>	 
		
	    <p id="instructionP"></p>
		
	    </form>
		
		
      </section>
	 <!--the edit window-->  
	  <div id="editWin" class="hidden">
		  <h2 class="edBan"></h2>
		  <p id ="originalTxt" class="edWinScroll"></p>
		  <p class="editInstruction"></p>
		  <label for="changes">Type changes into the Input Window. To preserve any previous text entered, first use copy/paste to capture the original data.body text as viewed above. Once the cursor is in either input window, the original text above can't be copied using copy/paste. If previously edited, the original text of the most recent edit, appears as a default value in the Input Window. This will allow retrieval of this text if required. Tap the Clear Input Window buttons to clear!</label>
		  <p></p>
		  <label for="editTitle" class="edBan">Edit Title: </label>
		  <input id="editTitle" type="text" name="editTitle" value="" class="edBan">
		    <button id="clearTitle">Clear Title</button>
			<p></p>
		 
		  <label for="changes" class="yellowonly">Edit record contents: </label>
		  <input id="changes" type="text" name="changes" value="" class="yellowonly">
		   <button id="clear">Clear Input Window </button>
		  <p></p>
		  
		  <button id="submit">Save changes</button>
		  <button id = "cancel">Cancel</button>
		  
	  </div><!--end edit window -->
	  
	  <!-- start editNerFieldWindow the secondary data field i.e. decoder field 4 in table-->
	  
	  <div id="editNewFieldWin" class="hidden">
	 <h2 class="edNewFieldBan"></h2>
		  <p id ="originalNewFieldTxt" class="edWinScroll"></p>
		  <p class="editNewFieldInstruction"></p>
		  <label for="changes">Type changes into the Input Window. To preserve any previous text entered, first use copy/paste to capture the original data.body text as viewed above. Once the cursor is in either input window, the original text above can't be copied using copy/paste. If previously edited, the original text of the most recent edit, appears as a default value in the Input Window. This will allow retrieval of this text if required. Tap the Clear Input Window buttons to clear!</label>
		  <p></p>	  
		 <label for="editNewFieldChanges" class="yellowonly">Edit record contents: </label>
		  <input id="editNewFieldChanges" type="text" name="editNewFieldChanges" value="" class="yellowonly">
		   <button id="clearEditNewField">Clear Input Window </button>
		   <p></p>  
		     <button id="commit">Commit changes</button> 
			 <button id = "cancelCommit">Cancel Changes</button>
		  
	  </div>
	  
	    <!-- end editNerFieldWindow -->
	  
	  <!--the delete window-->
	  <div id="deleteWin" class="hidden">
		  
		  <h2 class="deleteBan"></h2>
		  <p id ="deleteTxt" class="edWinScroll"></p>
		  <p class="deleteInstruction"></p>
		 
		  <p></p> 
		   <button id="okDelete">OK DELETE</button>
		   <button id = "cancelDelete">Cancel</button>
	  </div>
	  
	  <!-- display full note -->
	  <div id="displayFullNote" class="hidden">
		  
		  <h2 class="fullView"></h2>
		    <p class="fullViewInstruction"></p> 
		  <p id ="fullTxt" class="noScroll"></p>
		
		  
		  <!-- height was 80px-->
		 	 <div id="finishedReading" class="hidden" style="background-color: white; height:25px; width: 400px; padding: 10px; border: 2px solid red; border-radius: 10px; text-align: center; position: fixed; transform: translate(-50%,-50%)">
			
		 
		 	 <!-- <p></p> -->
		 	  <button id="okReturn"> Tap here to RETURN TO NOTES </button>
			 
			  <button id ="goToSearch"> Search Table </button>
	  		 </div>
		  </div>
		  
		  <!--THE SEARCH WINDOW -->
		  
		  <div id="searchWin" class="hidden">
		  <h2 class="edBan">Search for record by its first field title</h2>
	 <div class ="edWinScroll">
		 <p class = "highlight">Instructions for Search:</p>
		 <ul>
			 <li>Enter the title of the record to be searched for in the text input window (spaces count) and tap the Find Record button.</li>
			 <li>If found the record title appears in the Found Record List........(SCOLL UP for more v ...)</li>
			 <li>Double Tap the title in the Found Record List to view its notes in the Full View screen.</li>
			 <li>Tap the Highlight Table Record button to stand out in table.</li>
		</ul>
	<!-- 	  <p id ="searchField" class="edWinScroll"></p>
		  <p class="searchInstruction"></p> -->
	</div> 
	
		  <p>Enter text of Record Title into the search input window. Double tap the record in the Found Record List to view its notes.</p>
		  <label for="searchTitle" class="edBan">Search Record Title: </label>
		 <input id = "inputSearchRecord" name = "searchTitle"
		  type="search" class = "custom"
		  placeholder="search..">
		  <button id="searchForRecord">Find Record</button>
		  <p id = "caseIndicator" class = "simulator"></p>
		<p id = "matchedRecord" class = "simulator">If record found it will appear below:</p>  
		  
		  <ul id="result-list">
       <!--  <li>sample result</li>
        <li>sample result</li> -->
		<!--   <li id = "matchedRecord" >If record found it will appear below:</li> -->
    </ul>
		  
		  
		    <button id="clearSearchTitle">Clear Search Title</button>
			<!-- <p></p> -->
		 
			
		   <button id="clearFoundList">Clear Found Record List </button>
		 <!--  <p></p> -->
		  
		  <button id="viewRecordTable">Highlight Table Record</button>
		  <button id = "cancelSearch">Cancel</button>
		  
		  
	  </div>
	  <!--end div search window-->
		  
		  <!--END of THE SEARCH WINDOW -->
		  
		    <!-- the settings screen -->
	  <div id="settingsScreen" class="hidden">
		  
		  <h2 class="viewSettings"></h2>
		  <p id ="variables" class="edWinScroll"></p>
		  <h3 id="theListHeading"></h3>
		  <p id ="theList"></p>
		  <ul id="cvValues">
			  
			  
		  </ul>
		  <!-- height was 80px-->
		 	 <div id="finishedReadingSettings" class="hidden" style="background-color: white; height:25px; padding: 10px; border: 2px solid red; border-radius: 10px; text-align: center; position: transform: translate(-50%,-50%)">
			<!--  <p class="fullViewInstruction"></p> -->
		 
		 	 <!-- <p></p> -->
		 	  <button id="okSettingsViewed"> Tap here to RETURN TO NOTES </button>
			  
	  		 </div>
		 </div>
		  
		 <!--the preferences window-->  
	  <div id="prefWin" class="hidden">
		  <h2 class="edBan">PREFERENCES</h2>
		   <p></p>
		   <div id="clearPrefWindow" class="simulator">TAP HERE TO RETURN TO NOTES</div>
		   <p class="ppref">The Preferences window allows you to alter some settings.You can change the name of the database, show or hide the  additional field, or change the background colours of the text windows.</p>
		   <p></p>
		   <button id="renameDB">Rename DataBase</button>
		<button id="newField">Add/Relabel Field</button>
		<button id="background">Change Background Colours</button>
		<button id="creationDate">View Creation Date</button>
		<button id="displayData">Reset/Display Data</button>
		<button id="resetNewField">Show Extra Field</button>
		<button id = "scrollBtns">Hide Scroll Btn</button>
		<button id = "centerTitle">Center Record Title</button>
		
		<button id = "tableTime" name = "tableTime">TableDate <span id = "timeIndicator">?</span>time</button>
		<button id = "useLinkLabel">Use Link Labels</button>
		<button id = "scrollTable">Disable Scroll Table</button>
		
		<p id = "timeDateFlag" style ="text-align: center">Tap the TableDate ? Button to INCLUDE a timestamp or NOT.</p>
		
		<!-- caseSensitive switch -->
		  <div id = "caseSwitch">
			 
 			 <input type="range" id="caseSensitive" name="case"
         min="0" max="1" step = 1 value = "0">
  			<label for="case">Search Case Sensitive?</label>
 		 <p><span id ="no">No</span> .................. <span id ="yes">Yes</span>:</p>
			</div> <!--end div caseSensitive-->
			
		 </div> <!--end of the preferences window--> 
		 
		<!--reName section window-->
		
		
		<div id="reNameWin" class="hidden"><!--start rename window-->
			<h3>The current title of this database is: <scan id="dbTitle"></scan></h3>
			<label for="newTitle">Enter new title here: </label>
			<input type="text" name="newTitle" id="newTitle" value="" required/>
			
			</div><!--end rename window -->
			
			<!--start newField window -->
			<div id="newFieldWin" class="hidden">
			<h3>Relabel or Enter Name/Label for the secondary data (fixed) field. This label is used for all records until Relabelled here in Preferences. Note: You must tap Reset Display Data to view and save the title change.</h3>
			<label for="newFieldName">Enter new Field name here: </label>
			<input type="text" name="newFieldName" id="newFieldName" value="" required/>
			<p id="confirm"></p>
			<!--
			<label for="newFieldData">Enter new Field data here :  </label>
			<input type="text" name="newFieldData" id="newFieldData" value="" required/>
		-->
			<p id="resetAddField"></p>
			
		</div><!--end newField window -->
		<!-- addNote and Edit windows will have to accomodate adding the data to the new field if xtraNote The newFie,d button will have to be disabled after one use for now-->
		
		<!--start change colours window-->
		<div id="changeColoursWin" class="hidden">
			<h3>Set Background and Font colours of Database</h3>
			<li id="changeColourListItem">
				<h3 id="changeColourNoteTitle">Tap here to Change Colour Note Title</h3>
			<p id="changeColourBody">Tap here to change Current Colour of the body of text for the note.<br> Tap outside the title and body text boxes to change background colour of the note frame.</p>
			</li>
			
		</div><!--end change colours window -->
			
		<div id="workDiv" class="hidden">	
		</div>	<!--End Work Div section window-->
		
		 <!--the About database window -->  
	  <div id="aboutDBWin" class="hidden">
		  <h2 class="edBan">About this Database</h2>
		   <p></p>
		   <div id="clearAboutDBWindow" class="simulator">TAP HERE TO RETURN TO NOTES</div>
		   <p class="ppref">The About Database Venue allows access to a HELP File and Documentation, and some current Settings. Obtain an estimate of how much memory is available in the database storage if your Browser accomodates this feature..<br>This is Version 21: Search references the first title field.<br>Last revision: March 16 2021</p>
		   <p></p>
		   <button id="getMemory">Estimate Memory</button>
		<button id="documentation">Documentation.Manual</button>
		<button id="viewSettings">View Settings</button>
		</div> <!--end of the About Database window--> 
		
		<!-- calculate memory section-->
	<div id="memoryWindow" class="hidden"> 
	 <button id="memory">Memory</button>
	 <label>
  You’re currently using about <output id="percent">
  </output>% of your available storage.
</label>
<p id="calcMemory"></p>
</div> <!--end calculate memory section -->	 

<!--documentation code starts here -->
		
	<div id="documentationWin" class="hidden">
		<p>The documentation help manual is available as a word document. Tap on the links below to download the DougieBase Manual. Chapters 1 and 2.</p>
		<p>Download Chapter 1</p><a href="https://github.com/trainee45/trainee45.github.io/blob/master/DougieBase%20Chapter%201.docx" download>Download DougieBase Manual Chapter 1</a>
		<p></p>
		<p>Dowload Chapter 2</p><a href="https://github.com/trainee45/trainee45.github.io/blob/master/DougieBase%20Chapter%202.docx" download>Download DougieBase Manual Chapter 2</a>
		<p></p>
		<p>When the github screen appears tap the '…' menu icon opposite the filename and choose Download</p>
		<p></p>
		
	</div> 
	
	  <!--the TABLE screen window-->
	  <div id="tableScrn" class="hidden">
		  
		  <h2 class="tableBan">Create A Table</h2>
		    <div id="clearTableWindow" class="simulator">TAP HERE TO CREATE TABLE or to EDIT an existing one.</div>
		  <p id ="tableInstructions" class="edWinScroll"></p>
		  <p></p>
		 
		  <p></p> 
		   <button id ="returnToNotes">Return to HOME SCREEN</button>
		   <button id = "displayTable">DISPLAY TABLE</button>
	   </div>
		  
	 <!-- !!!  CODE BELOW IS ALL HTML FOR THE CREATETABLE SECTION !!!!! -->
	 
	 <section id="createTableWin" class="hidden"><!-- now showing make this hidden when adding to notes code -->
	<h2 id="databaseTableName"></h2>
	<p id="newOrEdit">Tap NEW to create a new Table or tap EDIT to alter an existing one.<br></p>
	<p>Currently the table contains 4 fixed fields: Title of Record, Date Created, Primary Data, Secondary Data. Enter the number of additional fields required. After entering the titles for the first three fixed fields, press the SUBMIT button, and then enter the titles for the dynamic fields below.</p>
	<label for="additionalFields">Current # of dynamic fields: </label>
	<input id="additionalFields" type="number" name="additionalFields" class ="edBan"/><br>
	<p><span style = "color: red">THE FIXED FIELDS:</span></p>
	<label for="headNameFirstColumn">Enter First Column Heading/Title for record list: </label>
	<input type="text" id="headNameFirstColumn" name="headNameFirstColumn" value="" />
	<br>
	<label for="nameDataField1">Enter 3rd Field Name :</label>
	<input id="nameDataField1" type="text" name="nameDataField1"/>
	<br>
	<label for="nameDataField2">Enter 4th Field Name :</label>
	<input id="nameDataField2" type="text" name="nameDataField2"/>
	<br>
	
	<button id="submitBtn">Submit</button>
	<p></p>
	
	<!-- the inputs for the additional required fields will be put here by js -->
	
	<div id="createTable">
		<table id="forRows" class="funcLib">
			<thead>
				<tr>
					<th id="thheader" style="text-align:center;"></th>
				</tr> <!-- end table header -->
				
			</thead>	
			<tr id="headRow"><!-- first row field titles -->
				<td id="headName"></td><!-- first data cell column 1 will be listName-->
				<td id="creationDate">Date</td><!-- second cell column 2 creation date-->
			<!-- 	take out <p id="info"></p> -->
				<td id="firstData"><p id="info"></p></td><!-- name of 3rd field -->
				<td id="secondData"><p id="info2"></p></td><!-- name of fourth field -->
				<!-- next columns added via js from for loop re number of additional fields required -->
			</tr><!--  end first row .. field titles -->
		</table>
		
</div> <!-- end create table div -->
	
</section>	<!-- end create tablewin -->

<!-- start deleteField window -->
<section id="deleteFieldWin" class = "hidden">
		<h2 id="deleteFieldTableName"></h2>
			<p>Choose the dynamic field you wish to DELETE from the current list of fields. (Tap the choose field input window). The first four FIXED fields can not be deleted.</p>
	<div id = "fieldHeaders"></div>
	
		<label for="myFields">Choose a field to delete from this list:</label>
<input list="fieldList" id="myFields" name="myFields" />
<button id = submitFieldSelection>SUBMIT</button>
<datalist id = "fieldList">
 <!--  <option value="tableTitle[0]"> -->
  
  
  </datalist>
<p id = chosenField class = 'simulator'></p>

<button id = "backToEdit">Return to Edit Table</button>
<button id = "cancelToNotes">CANCEL</button>
</section>
<!-- end deleteField window -->

<!-- start of showTable -->
<section id="tableWin" class="hidden" style="height: 700px"><!-- hidden -->
	
	<div id="STcreateTable"><!-- createTable -->
		
		<h2 id="showTableName"></h2>
		<p></p>
		
	<!-- test jQuery	 -->
	<div id="flip">Click to show / hide TABLE MENU</div>
	<div id="panel">Table Options:
		<button id="homeScreenBtn">Return to Home Screen</button>
	<button id="saveTableBtn">SAVE TABLE</button>
	<button id="toSearchScr"> SEARCH TABLE </button>
	<button id="toEditTableScr"> EDIT TABLE </button>
	<button id="toSortScr"> SORT TABLE </button>
	 <button id = "tableBackground">Change Background</button>
	 <button id="bottom">vBottom</button>
	</div>
	<!-- test jQuery -->
	
	
		<table id="STforRows" class="funcLib" style="background-color:black;">
			
			<thead>
				<tr>
					<th id="STthheader" style="text-align:center;"></th>
				</tr>
				
			</thead>	
			<tr id="STheadRow"><!-- first row -->
				<td id="STheadName"></td><!-- first data cell column 1 will be listName-->
				<td id="STcreationDate">Date</td><!-- second cell column 2 creation date-->
			<!-- 	take out <p id="info"></p> -->
				<td id="STfirstData"><p id="STinfo"></p></td><!-- name of 3rd field -->
				<td id="STsecondData"><p id="STinfo2"></p></td><!-- name of fourth field -->
				<!-- next columns added via js from for loop re number of additional fields required -->
			</tr>
			<tbody>
		</tbody>
		</table>
		
	<!-- </div> --><!-- moved to edit date homeScreenBtn and Save btn in the table div -->
	<p style="color: blue">(To edit date or other cell contents double tap the cell.)</p>
	<button id="homeScreenBtn2">Return to Home Screen</button>
	<button id ="saveTableBtn2">SAVE TABLE</button>
	
	</div><!-- moved to include edit date homeScreenBtn and Save btn in the table div -->
	
	
	<!-- <button id="homeScreenBtn">Return to Home Screen</button>
	<button id="saveTableBtn">SAVE TABLE</button>
	<button id="toSearchScr"> SEARCH TABLE </button>
	<button id="toEditTableScr"> EDIT TABLE </button>
	<button id="toSortScr"> SORT TABLE </button> -->
	
</section>
<!-- end of showTableWin -->

<!-- start SORT window -->
<!-- start SORT window MADE THIS A DIV LIKE SEARCH WINDOW BECAUSR NULL IS NOT AN OBJECT ERROR -->

<div id="sortWin" class = "hidden">
		<h2 id="sortType">SORT RECORDS</h2>
			<p>Choose the type of SORT you wish to perform. Only the first TITLE field can be sorted. </p>
			<p>The sort types are ALPHABETICAL, REVERSE ORDER, RESTORE TO ORIGINAL. After tapping the select input window, choose the sort type from the drop down list. </p>
	<div id = "mySortTypes"></div>
	<form>
        <label for="chooseSortType">Select how you wish to sort</label>
        <select id="chooseSortType">
            <option value="Alphabetical Order">Alphabetical Order</option>
            <option value="Reverse Order">Reverse Order</option>
            <option value="Reset to Original Order">Reset to Original Order</option>
            <option value="Testing Sort">Other</option>
        </select>
      <button id = submitSortTypeSelection>SUBMIT</button>  
    </form>
		
	
<!--   
<form>
        <label for="framework">Select a JS Framework</label>
        <select id="framework">
            <option value="1">Angular</option>
            <option value="2">React</option>
            <option value="3">Vue.js</option>
            <option value="4">Ember.js</option>
        </select>
        <button id="btn">Get the Selected Index</button>
    </form>
    <script>
        const btn = document.querySelector('#btn');
        const sb = document.querySelector('#chooseSortType')
        btn.onclick = (event) => {
            event.preventDefault();
            // show the selected index
            alert(sb.selectedIndex);
        };
-->
<p id = "chosenSort" class = 'simulator'></p>

<button id = "backToTableFromSort">Return to Table</button>
<button id = "cancelToNotesFromSort">CANCEL</button>
</div>
<!-- end SORT window -->


	<!--  !!! CODE ABOVE IS HTML FOR CREATETABLE SECTION. ITS .JS IS IN THE .JS OF NOTES !!!!! -->
	
    </main>

    <footer>
      <p>Copyright DougieBase Inc.. A Progressive Web App. Written in JavaScript and jQuery</p>
    </footer>
  </body>
  
  <script>
	  
  // dbName = prompt("What's the name of the database to restore?")
	// 	objectStoreName = dbName + '_os';
//let json;
//var textarea;
//   const restoreTextArea = document.querySelector('#restoreTextAreaClip');
//   const getJsonBtn =  document.querySelector('#getJson');
//   getJsonBtn.onclick = function (){
// 	let json = restoreTextArea.value;
// 	//TEST jsonString
	
// 	  console.log('restoreTextArea.value = ' + restoreTextArea.value);
	  
	  
//   }//end getJsonBtn.onclick


// function restoreFromClipboard (json,restoredDBName) {
// 	console.log('In function restoreFromClipboard. restoredDBName = ' + restoredDBName);
// 	let restoredDB; //global variables
// 	//let data = jsonString;
// 	let ver = 1;
// 	let request = window.indexedDB.open(restoredDBName, ver);
// 	let def = "whoops!"
	
		
		
// request.onupgradeneeded = function(e) {
// 	let restoredDB = e.target.result;
	
// 		let objectStore = restoredDB.createObjectStore(objectStoreName, { keyPath: 'id', autoIncrement:true });
// objectStore.createIndex('title', 'title', { unique: false });
  
//   //addind date of note creation
//   objectStore.createIndex('created', 'created', { unique: false });
//   //end code for adding date created
//   objectStore.createIndex('body', 'body', { unique: false });
//   //CODE FOR xtraField basically substituting xtraField for body
  
// 	  objectStore.createIndex('xtraField', 'xtraField', { unique: false });
//   objectStore.createIndex('variable1', 'variable1', { unique: false });
//   objectStore.createIndex('variable2', 'variable2', { unique: false });
//   objectStore.createIndex('dataV', 'dataV', { unique: false });	
  
//   console.log('In onupgradeneeded. This means db_name not found and a new database is being created. Database setup complete. Now returning to .onsuccess handler of open database event? upgraded variable about to be set to 1. ');
//  let upgraded = 1;
   
// };//end request.onupgradeneeded

// request.onsuccess = function importFromJson(e,restoredDB, json) {
// 	console.log('In request.onsuccess function');
// 	json = restoreTextArea.value;
// 	//SyntaxError: Cannot declare a let variable twice: 'db'.
// 	restoredDB = e.target.result;
// //  return new Promise((resolve, reject,json) => {
//     const transaction = restoredDB.transaction(
//       db.objectStoreNames,
//       'readwrite'
//     )
//     //transaction.addEventListener('error', reject)
// console.log('json = ' + json);
//     var importObject = JSON.parse(json)
// 	console.log('After JSON.parse(json) importObject = ' + importObject);
//     for (const storeName of restoredDB.objectStoreNames) {
// 		console.log('storeName = ' + storeName);
//       let count = 0
//       for (const toAdd of importObject[storeName]) {
//         const request = transaction.objectStore(storeName).add(toAdd)
//         request.addEventListener('success', () => {
//           count++
//           if (count === importObject[storeName].length) {
//             // Added all objects for this store
//             delete importObject[storeName]
//             if (Object.keys(importObject).length === 0) {
//               // Added all object stores
//               console.log('Added all objectStores');
// 			  //ReferenceError: Can't find variable: resolveresolve()
//             }
//           }
//         })
//       }
//     }
//  // })//end promise
// };//end request.onsuccess

// 	request.onerror = function() {
//   console.log('Database failed to open');
// };//end request.onerror

// }//END FUNCTION RESTORE FROM CLIPBOARD
	 
	 
	  /*I HAVE REMOVED THE CONSOLE SIMULATOR IN VERSION 7 
	  //console simulatorthis part into YOUR PROGRAM'S <script>
     
    //reference the elements in the HTML
      const inputSim = document.querySelector('#jscode');
      const btnSim = document.querySelector('#btnSim');
      const paraSim = document.querySelector('#sim');

      btnSim.onclick = function() {
        const code = inputSim.value;
        paraSim.textContent = eval(code);
      }
      
  //end of Console Simulator code ..place this part in your PROGRAM'S code before '/script>
  */ //all above is for the console simulator
  
   //memory button code to calculate memory capacity in database
  //getMemory function is called from main js file line 640
  function getMemory () {
	  alert('in getMemory function');
  const memoryBtn = document.querySelector('#memory');
  const memoryWindow = document.querySelector('#memoryWindow');
  const whatMemory = document.querySelector('p#amtMemory');
  const calculation = document.querySelector('#calcMemory');
  memoryWindow.setAttribute('class','showing');
  
  memoryBtn.onclick = amtMemory;
  
 /* function help () {document.getElementById("percent").value = 'You are not running in Safari so memory capacity calculation is not available.';}
  */
  
  function amtMemory() {
  	  if('storage' in navigator && 'estimate' in navigator.storage) {
		 alert('about to calculate memory'); navigator.storage.estimate().then(function(estimate) {
  document.getElementById("percent").value =
      (estimate.usage / estimate.quota * 100).toFixed(2);
  });//end storageManagerEstimate	
  
  
  	  } else {
		  document.getElementById("percent").value = '(You are not running in Safari with storage.estimate so memory capacity calculation is not available.)';
		  calculation.textContent = "Memory left is not available because you are not running in Safari, or the browser does not yet possess a storageManager";
  	  	
  	  }//end if storage in navigator
	  
	  
	 //done button to allow return to notes window .. just hide the memory window to go back to the aboutDBWindow
	  let doneBtn = document.createElement('button');
      doneBtn.textContent = 'DONE';
      memoryWindow.appendChild(doneBtn);
	  doneBtn.onclick = function () {
		 
		//get ready for next instance of viewing documentation
		memoryWindow.removeChild(doneBtn);
      	memoryWindow.setAttribute('class','hidden');
		aboutDBWindow.setAttribute('class','showing');
		 };//end doneBtn.onclick
	 }//end amtMemory functionmemoryBtn.onclick 
  }//end function getMemory called from line640 in js file
 //added script for restore database
 

//end added script for restore database 
  
</script>  
  </html>